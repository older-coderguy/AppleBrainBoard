0001   0000             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0002   0000             ; $Id: Worksv8.asm 1.0 12/22/2025  12:28PM 
0003   0000             ; Author: Leslie Newman
0004   0000             ;
0005   0000             ; Load DOS 3.3 into Apple II+ ram on boot.
0006   0000             ;
0007   0000             ; Hot keys-
0008   0000             ; Control M = Load DOS, enter the monitor.
0009   0000             ; Control C = load DOS, catalog disk.
0010   0000             ; Control B = Load DOS, display prompt.
0011   0000             ;
0012   0000             ; Telemark Assembler (TASM) version 3.2
0013   0000             ; Using an old dos program Bintel.com to convert hex file generated by tasm
0014   0000             ; to the correct format hex and binary files that my eprom programmer can use.
0015   0000             ;
0016   0000             ;
0017   0000             ;REVISION: 1-3-2026
0018   0000             ; ADD TO THE PROGRAM LOADED AT $1000 TO CALL $FB60 THAT PRINTS
0019   0000             ; APPLE ][.
0020   0000             ;
0021   0000             ;REVISION: 1-19-2026
0022   0000             ; FIXED HOT KEYS SO THAT CATALOG AND MONITOR ENTRY WORKS.
0023   0000             ;
0024   0000             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0025   0000             
0026   0000             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0027   0000             ; 
0028   0000             ; RESET ROUTINE FOR DOS HOSS running in II+
0029   0000             ; Processor: 6502
0030   0000             ;
0031   0000             ; THIS CODE SET FOR Brain Board IN SLOT 4
0032   0000             ; This code must be loaded at $1000 in the EPROM. That works out as
0033   0000             ; $D000 in the Brain Board. Make sure that the F8 ROM reset vestor at FFFC-FFFD
0034   0000             ; Points to $D800 on power up or reset of the Apple II.
0035   0000             ;
0036   0000             ; THESE ARE HANDY DEFINES FOR THE COMPILER
0037   0000             ;
0038   0000             #define EQU     .EQU
0039   0000             #define ORG     .ORG
0040   0000             #define RMB     .BLOCK
0041   0000             #define FCB     .BYTE
0042   0000             #define FCC     .TEXT
0043   0000             #define FDB     .WORD
0044   0000             #define	DW	.WORD	;define word
0045   0000             #define DFB	.BYTE	;define byte
0046   0000             #define equ     .EQU
0047   0000             #define org     .ORG
0048   0000             #define rmb     .BLOCK
0049   0000             #define fcb     .BYTE
0050   0000             #define fcc     .TEXT
0051   0000             #define fdb     .WORD
0052   0000             #define dfb	.BYTE
0053   0000             #define	END	.END
0054   0000             #define HOFFLOW	#$C1	;This is the slot number of Brain Board
0055   0000             			;low byte $C1 = Slot 4
0056   0000             			;low byte $D1 = Slot 5
0057   0000             			;using #define to assign the variable name to a HEX value
0058   0000             ;
0059   0000             ;
0060   0000             ; These equates are used by the Move Dos routine
0061   0000             ;
0062   0000             SRCE		EQU	$6
0063   0000             SRCEHI		EQU	$7
0064   0000             DSTN		EQU	$8
0065   0000             DSTNHI		EQU	$9
0066   0000             MOVEP3		EQU	$9E25
0067   0000             RTSTEMP		EQU	$9E41
0068   0000             
0069   0000             ;
0070   0000             ; These equates are used by the main DosHoss initialization code
0071   0000             ;
0072   0000             COUNT		equ	$300	;USE AS A COUNTER WHEN NEEDED
0073   0000             INVFLG		EQU	$32	;SET TO $FF FOR NORMAL VIDEO
0074   0000             PROMPT		EQU	$33
0075   0000             CSWL		EQU	$36
0076   0000             A1L		EQU	$3C
0077   0000             A1H		EQU	$3D
0078   0000             A2L		EQU	$3E
0079   0000             A2H		EQU	$3F
0080   0000             A4L		EQU	$42
0081   0000             A4H		EQU	$43
0082   0000             BFFRFLG		EQU	$45
0083   0000             ONERR		EQU	$D8
0084   0000             DOSWARM		EQU	$3D0
0085   0000             DOSWRMHI	EQU	$3D
0086   0000             DOSWRMLO	EQU	$00
0087   0000             PWRUP		EQU	$3F4	;THIS IS PWREDUP HOLDS RANDOM VALUE IF A POWER UP
0088   0000             SAVEPWRUP	EQU	$2000	;THIS IS PWREDUP HOLDS RANDOM VALUE IF A POWER UP
0089   0000             ALLMENUS	EQU	$2100
0090   0000             CATALOG		EQU	$A56E
0091   0000             CATALOGHI	EQU	$A5	;Catalog disk
0092   0000             CATALOGLO	EQU	$6E	;Catalog disk
0093   0000             DOSCSWL		EQU	$AA53	;DOS output hook. Default is $FDF0
0094   0000             DOSCMDX		EQU	$AA5F	;DOS 3.2/3.3 Command number
0095   0000             DOSSTRT		EQU	$B73A	;
0096   0000             READKEY		EQU	$C000	;Peek to read keyboard. Value > 127 means a key has been pressed.
0097   0000             KEYSTROBE	EQU	$C010	;Keyboard strobe. WRITE TO CLEAR STROBE.
0098   0000             SAVEKEY		EQU	$2001	;SAVE THE LAST KEY PRESSED
0099   0000             SPEAKER		EQU	$C030	;ONLY READ LOCATION $C030. SATHER DID AN STA IN HIS ORIGINAL CODE
0100   0000             AN0OFF		EQU	$C058	;Poke 0 to Clear game AN0
0101   0000             AN1OFF		EQU	$C05A	;Poke 0 to Clear game AN1
0102   0000             OPENAPL		EQU	$C061	;*** NOT IN II+
0103   0000             SLDAPL		EQU	$C062	;*** NOT IN II+
0104   0000             RDONLY		EQU	$C080	;Write PROTECT RAM. Select 2nd bank of $D000 - $DFFF RAM in language card.
0105   0000             				;$C084 does the same as $C080.
0106   0000             WRTONLY		EQU	$C081	;Write ENABLE RAM. in II+ DOS 3.2 Read_Write track sector and also 
0107   0000             				;Read-Deselect 2nd bank of $D000 - $DFFF RAM in language card. 
0108   0000             HRAMOFF		EQU	$C082	;Write PROTECT RAM. in II+ DOS 3.2 Read_Write track sector and also
0109   0000             				;Read-Deselect 2nd bank of $D000 - $DFFF RAM in language card.
0110   0000             ;HOSSOFF	EQU	$C0D1	;EXIT THE DOSHOSS ROM to Motherboard for slot 5
0111   0000             ;BANK1		EQU	$C0D2	;This switched to the upper bank of ROM ** no longer used by my code
0112   0000             HOSSOFF		EQU	$C0C1	;EXIT THE DOSHOSS ROM to Motherboard FOR SLOT 4 !! CURRENTLY NOT USED
0113   0000             BANK1		EQU	$C0C2	;This switched to the upper bank of ROM ** no longer used by my code
0114   0000             CLRROM		EQU	$CFFF	;Turn off Flip Flops. Disable expansion ROM
0115   0000             BASIC		EQU	$DFFF	;*** Looks like garbage in the II+.
0116   0000             NRESET		EQU	$FA62	;Normal Reset Vector for II+ (IIe is $FA61)
0117   0000             INIT		EQU	$FB2F	;Screen init. Reset Text mode
0118   0000             TEXTMODE	EQU	$FB39	;TEXT MODE JUST LIKE BASIC
0119   0000             GOTOCX		EQU	$FBB4	;*** Monitor memory location MD3.In new F8 ROM code here saves ROM states
0120   0000             HOME		EQU	$FC58	;HOME. Clear screen. Cursor top left
0121   0000             WAIT		EQU	$FCA8	;Call Wait loop. Set A register with calculation value
0122   0000             MOVE		EQU	$FE2C	;monitor memory move
0123   0000             SETNORM		EQU	$FE84	;Set video output to normal
0124   0000             MONITOR		EQU	$FF58	;JSR here to find out where one is. Sets Overflow flag.
0125   0000             NMIDSTN		EQU	$FFFA	;Address of NMI (Non-Maskable interupt) vector
0126   0000             ;
0127   0000             ;
0128   0000             ; 
0129   0000             ;
0130   0000             ;  BANK 0 ROUTINES
0131   0000             ;
0132   0000             ;  
0133   0000             ;
0134   0000             ; ** Note: I did not include Integer Basic. There was no room in the Brain Board Bank 0
0135   0000             ;          to fit Integer and Dos 3.3. All I really wanted was to have DOS load
0136   0000             ;          instantly on power up. An idea for the future is to have a assembly routine
0137   0000             ;	   do some bank switching and load the Integer Basic from the upper ROM area of the
0138   0000             ;	   Brain Board. I think this would work.
0139   0000             ;
0140   0000             ; HOT KEYS-
0141   0000             ;
0142   0000             ; CONTROL + C WILL CATALOG THE DISK
0143   0000             ; CONTROL + M WILL ENTER THE MONITOR
0144   0000             ; CONTROL + B LOADS DOS AGAIN AFTER INITIAL BOOT
0145   0000             ;
0146   0000             ;
0147   D000             		.ORG	$D000
0148   D000 4C 2E D0    		JMP	_NOBUTTN
0149   D003             ;
0150   D003             ;
0151   D003             ; Some future menus that can be displayed on power up.
0152   D003             ;
0153   D003             ;
0154   D003             ;
0155   D003             ;**********************************************************
0156   D003             ;
0157   D003             ;	BEGIN RESET HANDLER
0158   D003             ; RESET VECTOR IS FFFC AND FFFD. THIS CODE BEGINS AT $D000.
0159   D003             ; ON POWER UP, THE F8 ROM RESET VECTOR HAS FFFC-FFFD LOADED WITH D000
0160   D003             ; SO THE CPU VECTORS TO THIS PROGRAM. ONCE DOS HAS BEEN LOADED INTO THE APPLE RAM
0161   D003             ; THIS PROGRAM PLACES A SHORT ASSEMBLER ROUTINE AT $1000 IN THE APPLE MEMORY. THIS ROUTUINE
0162   D003             ; TURNS OFF THE BRAIN BOARD AND THEN DOES SOME RESET STUFF. IT ALSO CHECKS
0163   D003             ; FOR THE HOT KEYS TO CATALOG DISK OR GO INTO THE MONITOR.
0164   D003             ; THIS ROUTINE CHANGES HOW SATHER DID THE EXIT. HIS DOSHOSS WAS EXPECTING AN RTS
0165   D003             ; TO BE AT A MOTHERBOARD ROM LOCATION AFTER THE DOSHOSS WAS TURNED OFF. IT SEEMS MORE
0166   D003             ; FLEXIBLE TO HAVE A PROGRAM RUNNING IN THE APPLE MEMORY THAT TURNS OFF THE BRAIN BOARD AND
0167   D003             ; CAN THEN CLEAN UP REGISTERS, CLEAR SCREEN AND COMPLETE THE BOOT.
0168   D003             ;
0169   D003             ;  
0170   D003             ;
0171   D003             ;
0172   D003 57 4F 52 4B _VERSION	.TEXT	"WORKSV10 2-4-2026 Author: Leslie Newman"
0172   D007 53 56 31 30 
0172   D00B 20 32 2D 34 
0172   D00F 2D 32 30 32 
0172   D013 36 20 41 75 
0172   D017 74 68 6F 72 
0172   D01B 3A 20 4C 65 
0172   D01F 73 6C 69 65 
0172   D023 20 4E 65 77 
0172   D027 6D 61 6E 
0173   D02A             ;
0174   D02A BD 9E       _DOSLINK	.WORD	$9EBD
0175   D02C 81 9E       		.WORD	$9E81
0176   D02E             ;
0177   D02E             ;
0178   D02E AD F3 03    _NOBUTTN	LDA	PWRUP-1		;LOAD POWER UP STATUS
0179   D031 49 A5       		EOR	#$A5		;
0180   D033 CD F4 03    		CMP	PWRUP
0181   D036 8D F4 03    		STA	PWRUP
0182   D039 8D 00 20    		STA	SAVEPWRUP	;CURIOUS ABOUT THE LAST KEY PRESSED
0183   D03C D0 0E       		BNE 	_DOHOSS		;BRANCH IF NOT A POWER UP
0184   D03E AD 00 C0    		LDA	READKEY		;CHECK FOR KEYPRESS
0185   D041 8D 01 20    		STA	SAVEKEY		;SAVE LAST KEY PRESSED
0186   D044 AD 10 C0    		LDA	KEYSTROBE	;RESET KEYBOARD STROBE
0187   D047 AD 01 20    		LDA	SAVEKEY		;CHECK IF A KEY WAS PRESSED. HIGH BIT CLEAR
0188   D04A 30 6E       		BMI	_DONORM		;NO KEY DOWN, NOT A POWER UP
0189   D04C A2 FF       _DOHOSS		LDX	#$FF
0190   D04E 9A          		TXS
0191   D04F D8          		CLD
0192   D050 20 84 FE    		JSR	SETNORM		;DO A BIUNCH OF RESET STUFF
0193   D053 20 2F FB    		JSR	INIT
0194   D056 20 58 FC    		JSR	HOME
0195   D059 AD 58 C0    		LDA	AN0OFF
0196   D05C AD 5A C0    		LDA	AN1OFF
0197   D05F A0 05       		LDY	#5
0198   D061 20 B4 FB    		JSR	GOTOCX
0199   D064 AD FF CF    		LDA	CLRROM
0200   D067 20 D8 D0    		JSR	_DUMBELL	;FIRST DIFFERENT SPEAKER BEEP
0201   D06A AD 01 20    		LDA	SAVEKEY		;WAS A POWER UP IF NO KEY DOWN
0202   D06D 30 3B       		BMI	_NOHELLO
0203   D06F             ;		JSR	_DUMBELL	;SECOND DIFFERENT SPEAKER BEEP
0204   D06F AD 01 20    		LDA 	SAVEKEY
0205   D072 29 7F       		AND	#$7F		;DON'T CARE ABOUT MSB
0206   D074 C9 41       		CMP	#$41		;MASK LETTERS INTO CONTROL CODE 
0207   D076 90 02       		BCC	_LESS		;BCC    *+4  BRANCH AHEAD 4 BYTES FROM PROG COUNTER
0208   D078 29 1F       		AND	#$1F
0209   D07A A8          _LESS		TAY			;I CORRECTED THIS LINE 12-18-2025
0210   D07B C0 03       		CPY	#$03		;C?
0211   D07D F0 3F       		BEQ	_RESET.C	;CATALOG THE DISK IF C KEY DOWN
0212   D07F A2 03       		LDX	#3
0213   D081 BD 53 AA    _LINKLP1	LDA	DOSCSWL,X	;IF CSW AND KSW ARE EQUAL
0214   D084 D5 36       		CMP	CSWL,X		;TO DOSCSW AND DOSKSW
0215   D086 D0 0D       		BNE	_LINKDNE	;ASSUME DOS WAS IN USE
0216   D088 CA          		DEX			;AND RECONNECT DOS
0217   D089 10 F6       		BPL	_LINKLP1	;THIS ONLY MATTERS IN BOOTLESS
0218   D08B A2 03       		LDX	#3		;RESETS SUCH AS CONTRPOL-I
0219   D08D BD 2A D0    _LINKLP2	LDA	_DOSLINK,X	;THE PURPOSE IS TO PREVENT
0220   D090 95 36       		STA	CSWL,X		;A CONTROL-I RESET FROM
0221   D092 CA          		DEX			;DISCONNECTING DOS
0222   D093 10 F8       		BPL	_LINKLP2
0223   D095 EA          _LINKDNE	NOP	
0224   D096 C0 0D       		CPY	#$0D		;m ??
0225   D098 F0 3B       		BEQ	_RESET.M	;GO TO MONITOR
0226   D09A A9 1B       		LDA	#$1B		;NO HELLO FLAG
0227   D09C 48          		PHA
0228   D09D C0 02       		CPY	#$02		;B ??
0229   D09F F0 0C       		BEQ	_RESET.B	;BOOT ONLY
0230   D0A1 68          		PLA
0231   D0A2 A9 00       		LDA	#$0		;DO HELLO FLAG
0232   D0A4 48          		PHA
0233   D0A5 C0 08       		CPY	#$08		;H ??
0234   D0A7 F0 04       		BEQ	_RESET.B	;MOVE DOS - WAS _DOMOVE BRANCH
0235   D0A9 68          		PLA
0236   D0AA A9 1B       _NOHELLO	LDA	#$1B		;NO HELLO FLAG
0237   D0AC 48          		PHA
0238   D0AD 20 EA D0    _RESET.B	JSR	_MOVEDOS	;XFER DOS
0239   D0B0 68          		PLA			;GET DO HELLO FLAG
0240   D0B1 8D 5F AA    		STA	DOSCMDX
0241   D0B4 A9 01       		LDA	#<DOSSTRT	;COLD START IS $B73B
0242   D0B6 48          		PHA
0243   D0B7 A9 00       		LDA	#>DOSSTRT
0244   D0B9 48          		PHA
0245   D0BA EA          _DONORM		NOP
0246   D0BB 4C 19 D1    		JMP	_GOMRBRD
0247   D0BE             ;
0248   D0BE             ;
0249   D0BE A2 03       _RESET.C	LDX	#3		;SET CSW AND KSW TO I/O ROUTS
0250   D0C0 BD 53 AA    _CATLP		LDA	DOSCSWL,X
0251   D0C3 95 36       		STA	CSWL,X
0252   D0C5 CA          		DEX
0253   D0C6 10 F8       		BPL	_CATLP
0254   D0C8             ;		LDA	DOSWRMLO	;LOCATION $3D0
0255   D0C8             ;		PHA			;WARM START DOS AFTER CATALOG
0256   D0C8             ;		LDA	DOSWRMHI
0257   D0C8             ;		PHA
0258   D0C8             ;		LDA	CATALOGLO	;$A56E (DO CATALOG)
0259   D0C8             ;		PHA
0260   D0C8             ;		LDA	CATALOGHI
0261   D0C8             ;		PHA
0262   D0C8 A5 D8       		LDA	ONERR		;FIX APPLESOFT ONERR FLAG
0263   D0CA 29 7F       		AND	#$7F		;SO DISKI/O ERROR WILL PRINT
0264   D0CC 85 D8       		STA	ONERR		;
0265   D0CE A9 01       		LDA	#1		;FIX NO BUFFER FLAG FOR CATALOG
0266   D0D0 85 45       		STA	BFFRFLG
0267   D0D2             ;		JSR	CATALOG
0268   D0D2             ;		JSR	DOSWARM
0269   D0D2 4C 19 D1    		JMP	_GOMRBRD	;EXIT DOS HOSS
0270   D0D5             ;
0271   D0D5             ;
0272   D0D5             ;
0273   D0D5             ;		JMP	$FF59
0274   D0D5 4C 19 D1    _RESET.M		JMP	_GOMRBRD	;EXIT DOS HOSS
0275   D0D8             ;
0276   D0D8             ;
0277   D0D8             ;
0278   D0D8             ;		
0279   D0D8             ;_NMISRCE	DW	$3FB
0280   D0D8             ;		DW	$FA62
0281   D0D8             ;
0282   D0D8             ;
0283   D0D8             ;
0284   D0D8 A0 16       _DUMBELL	LDY	#$16		;SLIGHTLY DIFFERENT BELL SOUND
0285   D0DA A2 08       _BELP1		LDX	#8
0286   D0DC 98          _BELP2		TYA
0287   D0DD 20 A8 FC    		JSR	WAIT
0288   D0E0 AD 30 C0    		LDA	SPEAKER		;WRITE $C030 LOCATION
0289   D0E3 CA          		DEX			;
0290   D0E4 D0 F6       		BNE	_BELP2
0291   D0E6 88          		DEY
0292   D0E7 D0 F1       		BNE	_BELP1
0293   D0E9 60          		RTS
0294   D0EA             ;
0295   D0EA             ;
0296   D0EA             ;
0297   D0EA             ;  Move Dos
0298   D0EA             ;
0299   D0EA             ; I changed Sather's code and have everything in the same ROM bank.
0300   D0EA             ;
0301   D0EA             ;		DFB	$FF,$FF,$FF	;Not needed since Move Dos is in the same
0302   D0EA             ;		JSR	_DOSAWAY	;ROM bank.
0303   D0EA             ;		RTS			;
0304   D0EA             ;  
0305   D0EA             ;
0306   D0EA             ;
0307   D0EA             ;
0308   D0EA A9 00       _MOVEDOS	LDA	#0	
0309   D0EC 85 06        		STA	SRCE
0310   D0EE 85 08        		STA	DSTN
0311   D0F0 A9 9D       		LDA	#$9D
0312   D0F2 85 09       		STA	DSTNHI
0313   D0F4 A9 D4       		LDA	#$D4		;$D400 SHOULD BE START OF DOS IN D000 ROM
0314   D0F6 85 07       		STA	SRCEHI		;I had to pack the DOS from the original
0315   D0F8 A0 00       		LDY	#0		;DosHoss ROMs into Bank0 of the Brain Board.
0316   D0FA B1 06       _MOVELP2	LDA	(SRCE),Y
0317   D0FC 91 08       		STA	(DSTN),Y
0318   D0FE C8          		INY
0319   D0FF D0 F9       		BNE	_MOVELP2
0320   D101 E6 09       		INC	DSTNHI
0321   D103 E6 07       		INC	SRCEHI
0322   D105 A5 07       		LDA	SRCEHI		;I HAD TO CHANGE SATHER'S CODE SINCE I AM PUTTING
0323   D107             					;DOS INTO THE BRAIN BOARD ROM AT DIFFERENT MEMORY
0324   D107             					;LOCATIONS.
0325   D107 C9 F7       		CMP	#$F7		;DOS should end at F6FF THE WAY I AM LOADING FROM ROM.
0326   D109 D0 EF       		BNE	_MOVELP2	;SO DO A COMPARE OF THE SRCEHI TO F7 AND BRANCH UNTIL EQUAL
0327   D10B             ;		 			;CHECKING USING BCC IF SRCEHI IS LESS THAN OR EQUAL TO #$F7
0328   D10B             ;		
0329   D10B A9 60       		LDA	#$60
0330   D10D 8D 41 9E    		STA	RTSTEMP
0331   D110 20 25 9E    		JSR	MOVEP3
0332   D113 A9 A9       		LDA	#$A9
0333   D115 8D 41 9E    		STA	RTSTEMP
0334   D118 60          		RTS
0335   D119             ;
0336   D119             ;
0337   D119             ;		
0338   D119             ; Now exit to the Apple Motherboard ROM
0339   D119             ;
0340   D119             ;Now just pulled these next calls from
0341   D119             ;the normal Apple Reset at FFFc.FFFd
0342   D119             ;
0343   D119             ; Starting here we are writing a small assembly routing into memory starting at $1000.
0344   D119             ; Then calling it so that it can exit to the Brain Board. This program will turn off the 
0345   D119             ; Brain Board and then clean up various registers before exiting to the screen.
0346   D119             ;
0347   D119             ;  NOTE: $FB60 CLEARS SCREEN AND PRINTS APPLE ][
0348   D119             ;
0349   D119 A9 A9       _GOMRBRD	LDA	#$A9
0350   D11B 8D 00 10    		STA	$1000
0351   D11E A9 FF       		LDA	#-1		;SETUP TO CLEAR THE STACK
0352   D120 8D 01 10    		STA	$1001
0353   D123 A9 9A       		LDA	#$9A		;TXS WILL CLEAR THE STACK
0354   D125 8D 02 10    		STA	$1002
0355   D128 A9 AD       		LDA	#$AD		;
0356   D12A 8D 03 10    		STA	$1003
0357   D12D A9 C1       		LDA	HOFFLOW		;D1 = SLOT 5, C1 = SLOT 4
0358   D12F             ; Should also be able to get the low byte of the Brain Board slot as such:
0359   D12F             ;  (#$HOSSOFF & $00FF) replaces HOFFLOW
0360   D12F             ;
0361   D12F             ; Interesting observation. If you put this card into the wrong slot, on computer boot
0362   D12F             ; it displays 'HACKIN FOOL!' instead of Apple ][ and it locks up. Seems to be related to
0363   D12F             ; when I changed the code above from hard coded slot low byte to using HOFFLOW. The assembler
0364   D12F             ; saw this as doing a LDA zero page instead of LDA absolute.
0365   D12F             ;
0366   D12F             ;
0367   D12F 8D 04 10    		STA	$1004		;CHANGE HOFFLOW EQU VALUE TO SET SLOT
0368   D132 A9 C0       		LDA	#$C0		;LDA $C0XX TO TURN OFF BRAIN BOARD
0369   D134 8D 05 10    		STA	$1005		;
0370   D137 A9 A9       		LDA	#$A9		;Next I am just doing some Reset stuff
0371   D139 8D 06 10    		STA	$1006		;to clean things up after switching from
0372   D13C A9 FF       		LDA	#-1		;the Brain Board ROM.
0373   D13E 8D 07 10    		STA	$1007
0374   D141 A9 9A       		LDA	#$9A		; JSR SETVIDEO
0375   D143 8D 08 10    		STA	$1008		; 
0376   D146             ;		
0377   D146             ;		
0378   D146             ;
0379   D146 A9 D8       		LDA	#$D8		;CLD
0380   D148 8D 09 10    		STA	$1009
0381   D14B A9 20       		LDA	#$20
0382   D14D 8D 0A 10    		STA	$100A
0383   D150 A9 84       		LDA	#$84		;
0384   D152 8D 0B 10    		STA	$100B
0385   D155 A9 FE       		LDA	#$FE		;
0386   D157 8D 0C 10    		STA	$100C
0387   D15A A9 20       		LDA	#$20		;
0388   D15C 8D 0D 10    		STA	$100D
0389   D15F A9 2F       		LDA	#$2F		;
0390   D161 8D 0E 10    		STA	$100E
0391   D164 A9 FB       		LDA	#$FB		;
0392   D166 8D 0F 10    		STA	$100F
0393   D169 A9 20       		LDA	#$20
0394   D16B 8D 10 10    		STA	$1010
0395   D16E A9 93       		LDA	#$93
0396   D170 8D 11 10    		STA	$1011
0397   D173 A9 FE       		LDA	#$FE
0398   D175 8D 12 10    		STA	$1012
0399   D178 A9 20       		LDA	#$20
0400   D17A 8D 13 10    		STA	$1013
0401   D17D A9 89       		LDA	#$89
0402   D17F 8D 14 10    		STA	$1014
0403   D182 A9 FE       		LDA	#$FE
0404   D184 8D 15 10    		STA	$1015
0405   D187             ;		
0406   D187             ;		
0407   D187 A9 20       		LDA	#$20		;LDA ABSOLUTE
0408   D189 8D 16 10    		STA	$1016
0409   D18C A9 60       		LDA	#$60		;LOW BYTE SAVEKEY
0410   D18E 8D 17 10    		STA	$1017
0411   D191 A9 FB       		LDA	#$FB		;HI BYTE SAVEKEY
0412   D193 8D 18 10    		STA	$1018
0413   D196 A9 AD       		LDA	#$AD		;CMP IMMEDIATE TO $0D CONTROL + M
0414   D198 8D 19 10    		STA	$1019
0415   D19B A9 01       		LDA	#$01		;SAVEKEY LOW BYTE
0416   D19D 8D 1A 10    		STA	$101A
0417   D1A0 A9 20       		LDA	#$20		;BNE
0418   D1A2 8D 1B 10    		STA	$101B
0419   D1A5 A9 C9       		LDA	#$C9		;JUMP 6 BYTES FORWARD IF NOT EQUAL
0420   D1A7 8D 1C 10    		STA	$101C
0421   D1AA A9 03       		LDA	#$03		;JMP TO $FF59 WHICH IS THE MONITOR
0422   D1AC 8D 1D 10    		STA	$101D		;DOS DOES NOT LOAD
0423   D1AF A9 D0       		LDA	#$D0		;USE CONTROL + B TO EXIT MONITOR AND LOAD DOS
0424   D1B1 8D 1E 10    		STA	$101E
0425   D1B4 A9 03       		LDA	#$03
0426   D1B6 8D 1F 10    		STA	$101F
0427   D1B9 A9 20       		LDA	#$20		;
0428   D1BB 8D 20 10    		STA	$1020
0429   D1BE A9 6E       		LDA	#$6E  		;
0430   D1C0 8D 21 10    		STA	$1021
0431   D1C3 A9 A5       		LDA	#$A5
0432   D1C5 8D 22 10    		STA	$1022
0433   D1C8             ;
0434   D1C8 A9 AD       		LDA	#$AD		
0435   D1CA 8D 23 10    		STA	$1023
0436   D1CD A9 01       		LDA	#$01
0437   D1CF 8D 24 10    		STA	$1024
0438   D1D2 A9 20       		LDA	#$20
0439   D1D4 8D 25 10    		STA	$1025
0440   D1D7 A9 C9       		LDA	#$C9  
0441   D1D9 8D 26 10    		STA	$1026
0442   D1DC             ;
0443   D1DC             ;
0444   D1DC A9 0D       		LDA	#$0D		;LDA ABSOLUTE
0445   D1DE 8D 27 10    		STA	$1027
0446   D1E1 A9 D0       		LDA	#$D0		;LOW BYTE SAVEKEY
0447   D1E3 8D 28 10    		STA	$1028
0448   D1E6 A9 03       		LDA	#$03		;HI BYTE SAVEKEY
0449   D1E8 8D 29 10    		STA	$1029
0450   D1EB A9 20       		LDA	#$20		;CMP IMMEDIATE TO $03 CONTROL + C
0451   D1ED 8D 2A 10    		STA	$102A
0452   D1F0 A9 65       		LDA	#$65		;
0453   D1F2 8D 2B 10    		STA	$102B
0454   D1F5 A9 FF       		LDA	#$FF		;BNE
0455   D1F7 8D 2C 10    		STA	$102C
0456   D1FA A9 EA       		LDA	#$EA		;JUMP 4 BYTES FORWARD IF NOT EQUAL
0457   D1FC 8D 2D 10    		STA	$102D
0458   D1FF A9 EA       		LDA	#$EA		;
0459   D201 8D 2E 10    		STA	$102E
0460   D204 A9 EA       		LDA	#$EA
0461   D206 8D 2F 10    		STA	$102F
0462   D209 A9 EA       		LDA	#$EA
0463   D20B 8D 30 10    		STA	$1030
0464   D20E A9 EA       		LDA	#$EA
0465   D210 8D 31 10    		STA	$1031
0466   D213 A9 4C       		LDA	#$4C		;
0467   D215 8D 32 10    		STA	$1032
0468   D218 A9 84       		LDA	#$84
0469   D21A 8D 33 10    		STA	$1033
0470   D21D A9 9D       		LDA	#$9D
0471   D21F 8D 34 10    		STA	$1034
0472   D222             ;		
0473   D222             ;		
0474   D222             ;
0475   D222 A9 EA       		LDA	#$EA
0476   D224 8D 35 10    		STA	$1035
0477   D227             ;
0478   D227 A9 EA       		LDA	#$EA
0479   D229 8D 36 10    		STA	$1036
0480   D22C A9 EA       		LDA	#$EA
0481   D22E 8D 37 10    		STA	$1037
0482   D231 A9 EA       		LDA	#$EA		
0483   D233 8D 38 10    		STA	$1038
0484   D236 A9 EA       		LDA	#$EA
0485   D238 8D 39 10    		STA	$1039
0486   D23B A9 EA       		LDA	#$EA
0487   D23D 8D 3A 10    		STA	$103A
0488   D240 A9 60       		LDA	#$60  
0489   D242 8D 3B 10    		STA	$103B
0490   D245             ;
0491   D245             ;
0492   D245             ;
0493   D245 4C 00 10    		JMP	$1000		;JMP 1000  4C 00 03		
0494   D248             ;		
0495   D248             ;
0496   D248             STOP		END			;
0497   D248             
0498   D248             
0499   D248             
0500   D248             
0501   D248             
0502   D248             
0503   D248             
0504   D248             
0505   D248             
0506   D248             
0507   D248             
0508   D248             
0509   D248             
0510   D248             
0511   D248             
0512   D248             
0513   D248             

ADDR  00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
-----------------------------------------------------
D000  4C 2E D0 57 4F 52 4B 53 56 31 30 20 32 2D 34 2D
D010  32 30 32 36 20 41 75 74 68 6F 72 3A 20 4C 65 73
D020  6C 69 65 20 4E 65 77 6D 61 6E BD 9E 81 9E AD F3
D030  03 49 A5 CD F4 03 8D F4 03 8D 00 20 D0 0E AD 00
D040  C0 8D 01 20 AD 10 C0 AD 01 20 30 6E A2 FF 9A D8
D050  20 84 FE 20 2F FB 20 58 FC AD 58 C0 AD 5A C0 A0
D060  05 20 B4 FB AD FF CF 20 D8 D0 AD 01 20 30 3B AD
D070  01 20 29 7F C9 41 90 02 29 1F A8 C0 03 F0 3F A2
D080  03 BD 53 AA D5 36 D0 0D CA 10 F6 A2 03 BD 2A D0
D090  95 36 CA 10 F8 EA C0 0D F0 3B A9 1B 48 C0 02 F0
D0A0  0C 68 A9 00 48 C0 08 F0 04 68 A9 1B 48 20 EA D0
D0B0  68 8D 5F AA A9 01 48 A9 00 48 EA 4C 19 D1 A2 03
D0C0  BD 53 AA 95 36 CA 10 F8 A5 D8 29 7F 85 D8 A9 01
D0D0  85 45 4C 19 D1 4C 19 D1 A0 16 A2 08 98 20 A8 FC
D0E0  AD 30 C0 CA D0 F6 88 D0 F1 60 A9 00 85 06 85 08
D0F0  A9 9D 85 09 A9 D4 85 07 A0 00 B1 06 91 08 C8 D0
D100  F9 E6 09 E6 07 A5 07 C9 F7 D0 EF A9 60 8D 41 9E
D110  20 25 9E A9 A9 8D 41 9E 60 A9 A9 8D 00 10 A9 FF
D120  8D 01 10 A9 9A 8D 02 10 A9 AD 8D 03 10 A9 C1 8D
D130  04 10 A9 C0 8D 05 10 A9 A9 8D 06 10 A9 FF 8D 07
D140  10 A9 9A 8D 08 10 A9 D8 8D 09 10 A9 20 8D 0A 10
D150  A9 84 8D 0B 10 A9 FE 8D 0C 10 A9 20 8D 0D 10 A9
D160  2F 8D 0E 10 A9 FB 8D 0F 10 A9 20 8D 10 10 A9 93
D170  8D 11 10 A9 FE 8D 12 10 A9 20 8D 13 10 A9 89 8D
D180  14 10 A9 FE 8D 15 10 A9 20 8D 16 10 A9 60 8D 17
D190  10 A9 FB 8D 18 10 A9 AD 8D 19 10 A9 01 8D 1A 10
D1A0  A9 20 8D 1B 10 A9 C9 8D 1C 10 A9 03 8D 1D 10 A9
D1B0  D0 8D 1E 10 A9 03 8D 1F 10 A9 20 8D 20 10 A9 6E
D1C0  8D 21 10 A9 A5 8D 22 10 A9 AD 8D 23 10 A9 01 8D
D1D0  24 10 A9 20 8D 25 10 A9 C9 8D 26 10 A9 0D 8D 27
D1E0  10 A9 D0 8D 28 10 A9 03 8D 29 10 A9 20 8D 2A 10
D1F0  A9 65 8D 2B 10 A9 FF 8D 2C 10 A9 EA 8D 2D 10 A9
D200  EA 8D 2E 10 A9 EA 8D 2F 10 A9 EA 8D 30 10 A9 EA
D210  8D 31 10 A9 4C 8D 32 10 A9 84 8D 33 10 A9 9D 8D
D220  34 10 A9 EA 8D 35 10 A9 EA 8D 36 10 A9 EA 8D 37
D230  10 A9 EA 8D 38 10 A9 EA 8D 39 10 A9 EA 8D 3A 10
D240  A9 60 8D 3B 10 4C 00 10 00 00 00 00 00 00 00 00


tasm: Number of errors = 0
